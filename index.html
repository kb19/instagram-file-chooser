<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Instagram-file-chooser : A file chooser for a user to select one of their instagram photos from a pop-up and send the data back to the parent page." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Instagram-file-chooser</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/kb19/instagram-file-chooser">View on GitHub</a>

          <h1 id="project_title">Instagram-file-chooser</h1>
          <h2 id="project_tagline">A file chooser for a user to select one of their instagram photos from a pop-up and send the data back to the parent page.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/kb19/instagram-file-chooser/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/kb19/instagram-file-chooser/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>This code allows you to embed an Instagram file chooser into your web page / web app. It sets up a 'login with Instagram' button on the main page. When a user clicks it, a new window opens up prompting them to log in with instagram and then displays a 'slider' of all their instagram images. When they click on an instagram image, that image's link is sent back to the parent window to be displayed (or enetered in a form, etc). </p>

<p>To use this app, you need to create an app/account at <a href="http://instagram.com/developer/" target="_">the Instagram API page</a>.</p>

<h3>Explanation</h3>

<p>After a user signs in with Instagram, we hit an endpoint on the Instagram API that gives us the # most recent user photos. With that return 1 'page' of photos to the page, and cache the next 'page' of the slider via an AJAX requqest to next.php. Everytime the 'next' button is clicked, we move to the next (cached) page, and load the page after it. If a user has relatively few photos, this can be a cumbersome way to do it since we could just grab all their photos in one request, but if the user has a tonne of photos that could amount to a lot of unnecessary overhead.</p>

<h3>Application Flow</h3>

<p>index.php -&gt; sign in with Instagram -&gt; redirect.php, render template img_chooser.html -&gt; grab user's pictures, process in main.js -&gt; hit next.php via AJAX to retrieve the next page of pictures.</p>

<h3>Important files</h3>

<p></p><h4>lib/instagram.php:</h4>  InstagramUploader class. Handles rendering the img_chooser.html template as well as connecting to the 
            instagram api via curl requests. On initialization, this class pulls down the first page of instagram 
            pictures from the user's instagram account and sends the information back via JSON.
            It also contains a static function that is used via AJAX to request the next 'page' of user photos.
<h4>index.php:</h4>   Landing page for the plugin. Contains the 'login with instagram' code.
<h4>next.php:</h4>    This script calls a static method in the InstagramUploader class that gets the next 'page' of pictures. This 
            script serves as an endpoint for the next page ajax request in main.js.
<h4>redirect.php:</h4>  Creates and initializes an instance of the InstagramUploader class. The client id, client secret and 
            redirect url need to be set here. <strong>*Set Instagram API details here</strong>

<p></p><h4>js/main.js:</h4>  Contains the javascript code for the plugin. It's split into 2 main sections: main page section (index.php) 
          and the file chooser page section (redirect.php). The main page section just contains a listener for handling 
          the instagram login / pop-up window. The section for the file chooser contains the logic and dom manipulation 
          code for presenting the pictures and handling the ui experience. <strong>*Set Instagram API details here</strong>

<p></p><h4>templates/img_chooser.html:</h4>  This is the template that is rendered by the redirect.php script.
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Instagram-file-chooser maintained by <a href="https://github.com/kb19">kb19</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
